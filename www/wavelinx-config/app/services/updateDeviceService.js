!function(){"use strict";function UpdateDeviceService($http,$cookies,$rootScope,$timeout,userService,utilities,webService,$q,updateDeviceWebservice){function loginLightingEngine(username,password){console.log("updateDeviceService.login() - Called!");var deferred=$q.defer(),request={methodName:"loginLightingEngine",data:{userName:username,password:password}};return updateDeviceWebservice.sendWSRequest(request).then(function(responseObject){return $rootScope.logoutSuccess=!0,deferred.resolve(responseObject),responseObject})}function startUpdate(){var startUpdateObject={"~StartOtaUpgrades":1},request={methodName:"updateDevice",data:startUpdateObject};return updateDeviceWebservice.sendWSRequest(request).then(function(response){return response})}function stopUpdate(){var stopUpdateObject={"~StopOtaUpgrades":1},request={methodName:"updateDevice",data:stopUpdateObject};return updateDeviceWebservice.sendWSRequest(request).then(function(response){return console.log("updateDeviceService::startupadte:::response",response),response})}function getOTAStatus(){var request={methodName:"getUpdateStatus"};return updateDeviceWebservice.sendWSRequest(request).then(function(response){return response})}function scanOTAFiles(){var scanUpdateObject={"~ScanOtaFiles":1},request={methodName:"updateDevice",data:scanUpdateObject};return updateDeviceWebservice.sendWSRequest(request).then(function(response){return response})}function getOTAManager(){var request={methodName:"getOTAManager",hideSpinner:!0};return updateDeviceWebservice.sendWSRequest(request).then(function(response){return response})}function logout(){var deferred=$q.defer(),request={methodName:"logout"};return $timeout.cancel($rootScope.timer),$timeout.cancel($rootScope.checking),updateDeviceWebservice.sendWSRequest(request).then(function(response){return $rootScope.logoutSuccess=!1,sessionStorage.setItem("lightingEngineToken",""),deferred.resolve(response),response})}return{loginLightingEngine:loginLightingEngine,startUpdate:startUpdate,stopUpdate:stopUpdate,getOTAStatus:getOTAStatus,scanOTAFiles:scanOTAFiles,logout:logout,getOTAManager:getOTAManager}}angular.module("app.services").factory("updateDeviceService",UpdateDeviceService),UpdateDeviceService.$inject=["$http","$cookies","$rootScope","$timeout","userService","utilities","webService","$q","updateDeviceWebservice"]}();