<article><article class="content-pane"><header class="content-header">Update Package</header><section class="content-section"><section ng-if="vm.packageUploadErrorMsg != null" class="alert alert-danger">{{vm.packageUploadErrorMsg}}</section><section ng-if="vm.packageUploadSuccessMsg != null" class="alert alert-success">{{vm.packageUploadSuccessMsg}}</section><section ng-if="vm.sameFileErrorMessage != null" class="alert alert-danger">{{vm.sameFileErrorMessage}}</section><div class="row"><div class="col-sm-4 col-xs-2 text-right">Select Package:</div><div class="input-group col-md-5 col-sm-8 col-xs-10"><form class="form-inline form-horizontal" name="otaSettings"><div class="input-group col-xs-12"><span class="input-group-addon"><i class="glyphicon glyphicon-paperclip"></i></span> <input type="text" class="form-control" disabled="" placeholder="Upload OTA file" ng-model="vm.uploadFileName.name"> <span class="input-group-btn"><input type="file" id="packageUploadBrowse" name="file" accept=".tgz,.ota" class="file hidden" file-model="vm.uploadFileName"> <button class="browse btn btn-primary" type="button" ng-click="vm.packageUploadBrowse()"><i class="glyphicon glyphicon-search"></i> Browse</button></span></div></form></div></div><div class="row padded-top"><div class="col-sm-4 col-xs-2"></div><button ng-disabled="!vm.validateOTAUpdateName(vm.uploadFileName.name)" ng-click="vm.uploadFile()" class="btn btn-primary">Upload</button></div></section></article><article class="content-pane"><header class="content-header">Available Updates</header><section class="content-section"><h3>WAC Update</h3><!-- field for wac update for showing updated versions plus available updates --><article class="custom-table table-hover"><header class="thead first"><div class="th col-md-6 col-xs-8">wacOS Version</div><div class="th col-md-6 col-xs-4">Action</div><br class="clear"></header><section class="tbody"><div class="tr"><div><div class="td col-md-6 col-xs-8">{{vm.getWacInfo.currentWacVersion}}</div><div class="td col-md-6 col-xs-4"><button ng-disabled="true" ng-click="vm.update()" class="btn btn-primary">Current Version</button></div></div><div ng-if="vm.getWacUpdateAvailableInfo.fw_version && (vm.getWacUpdateAvailableInfo.fw_version != vm.getWacInfo.currentWacVersion)"><div class="td col-md-6 col-xs-8">{{vm.getWacUpdateAvailableInfo.fw_version}}</div><div class="td col-md-6 col-xs-4"><button ng-disabled="vm.disableStartUpdate" ng-click="vm.update()" class="btn btn-primary">Update</button></div></div></div></section></article></section><section class="content-section"><div class="row padded-top"><div class="col-md-6 col-xs-8"><h3>End Device Update</h3></div><div class="col-md-6 col-xs-4"><button class="btn btn-primary align-buttons" ng-click="vm.open()" ng-disabled="vm.deviceList">Get All Devices</button></div></div></section><article ng-if="vm.deviceList"><!-- available firmare versions --><section class="content-section"><h4>Upgrades Available</h4><section ng-if="vm.updateStoppedMessage != null" class="alert alert-danger">{{vm.updateStoppedMessage}}</section><article class="custom-table table-striped"><header class="thead first"><div class="th col-md-3 col-xs-4">Device Type</div><div class="th col-md-3 col-xs-4">Available Firmware</div><div class="th col-md-3 col-xs-4" ng-if="vm.isRunning"><br></div><br class="clear"></header><section class="tbody"><section ng-if="vm.availableOTAFiles == ''" class="alert alert-warning">{{vm.noUpgradesText}}</section><div class="tr" ng-repeat="OTA in vm.availableOTAFiles"><div class="td col-md-3 col-xs-4" ng-if="OTA.ProductType"><div ng-if="OTA.ProductType=='0xE01A'">Room Sensor</div><div ng-if="OTA.ProductType=='0x100'">Receptacle</div><div ng-if="OTA.ProductType=='0x200'">Wallstation</div><div ng-if="OTA.ProductType=='0x300'">Relay Switchpack</div><div ng-if="OTA.ProductType=='0x400'">Integrated Sensor</div></div><div class="td col-md-3 col-xs-4">{{OTA.FirmwareVer}}</div><div class="td col-md-3 col-xs-4" ng-if="vm.isRunning"></div></div></section></article></section><section class="content-section"><!-- end of available firmware section --><!-- devices connected --><br><h4>Connected Devices</h4><article class="custom-table table-striped"><header class="thead first"><div class="th col-xs-3">Mac Address</div><div class="th col-xs-3">Device Type</div><div class="th col-xs-3">Current Version</div><div class="th col-xs-3" ng-if="vm.isRunning">Status</div><br class="clear"></header><section class="tbody"><section ng-if="vm.availableEndpoints == ''" class="alert alert-warning">{{vm.noEndpointsText}}</section><div class="tr" ng-repeat="endpoint in vm.availableEndpoints"><div class="td col-xs-3">{{endpoint.eui}}</div><div class="td col-xs-3" ng-if="endpoint.ProductType"><div ng-if="endpoint.ProductType=='0xE01A'">Room Sensor</div><div ng-if="endpoint.ProductType=='0x100'">Receptacle</div><div ng-if="endpoint.ProductType=='0x200'">Wallstation</div><div ng-if="endpoint.ProductType=='0x300'">Relay Switchpack</div><div ng-if="endpoint.ProductType=='0x400'">Integrated Sensor</div></div><div class="td col-xs-3">{{endpoint.FirmwareVer}}</div><div class="td col-xs-3" ng-if="vm.isRunning"><div ng-if="endpoint.ImageUpgradePercent == 0  &&  !vm.updateStoppedMessage"><strong>Upgrade not yet started or may not be available</strong></div><progressbar ng-if="endpoint.ImageUpgradePercent > 0 && endpoint.ImageUpgradePercent<100 &&  !vm.updateStoppedMessage" class="progress-striped active" value="endpoint.ImageUpgradePercent" type="success">{{vm.showPercent[$index]}}%</progressbar><progressbar ng-if="endpoint.ImageUpgradePercent >0 && endpoint.ImageUpgradePercent<100 &&  vm.updateStoppedMessage" value="100" type="danger"><div class="content-color">Update Stopped..{{vm.showPercent[$index]}}%</div></progressbar><progressbar ng-if="endpoint.ImageUpgradePercent ==100" value="100" type="success"><div class="content-color">Update Successful</div></progressbar></div></div></section></article></section><section class="content-section"><div class="row padded-top"><div class="col-xs-1 col-sm-2"></div><button class="btn btn-primary" ng-disabled="(vm.availableEndpoints == '' ) || vm.disableStartUpdate" ng-click="vm.startUpdate()">Start Update</button> <button class="btn btn-primary" ng-click="vm.stopUpdate()" ng-disabled="(vm.availableEndpoints == '' ) || !vm.disableStartUpdate">Stop Update</button> <button class="btn btn-danger" ng-disabled="vm.disableStartUpdate" ng-click="vm.logout()">Device Logout</button></div></section><!-- once you start update request for ota manager gives current status no need to do get ota status it will give same info as get ota status --></article></article></article>