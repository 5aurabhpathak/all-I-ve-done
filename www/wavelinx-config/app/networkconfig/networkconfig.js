!function(){"use strict";function NetworkConfig($state,$scope,$rootScope,$modal,networkConfigService,NetworkSetting){function resetNotifications(){vm.wifiSettingsError=vm.wifiSettingsSuccess=vm.ethernetSettingsError=vm.ethernetSettingsSuccess=null}var vm=this;$rootScope.currentState=$state.current.name,vm.wifiApSsid=null!=NetworkSetting.wifiAp?NetworkSetting.wifiAp.ssid:null,vm.wifiSettingObject=null!=NetworkSetting.wifi?NetworkSetting.wifi:{},vm.ethernetSettingObject=null!=NetworkSetting.ethernet?NetworkSetting.ethernet:{isDhcp:!1},vm.regex=/^\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}$/,vm.formatError="Enter Numbers range from 1-9 in the format xxx.xxx.xxx.xxx",vm.nwKeyRegex=/^[\x20-\x7E]{8,63}$/,vm.nwKeyError="Network key must be between 8 and 63 characters",vm.wifiSettingObject.authentication=null==vm.wifiSettingObject.authentication?"WPA2PSK":vm.wifiSettingObject.authentication,vm.wifiSettingObject.encryption=null==vm.wifiSettingObject.encryption?"AES":vm.wifiSettingObject.encryption,vm.wifiApSettingObject=null!=NetworkSetting.wifiAp?NetworkSetting.wifiAp:{},vm.cancelWifiSettings=function(){resetNotifications(),vm.wifiSettingObject={}},vm.openRemoveWifiModal=function(){$modal.open({templateUrl:"app/networkconfig/removeWifiModal.html",controller:"RemoveWifiModal as vm",scope:$scope})},vm.cancelEthernetSettings=function(){resetNotifications(),vm.ethernetSettingObject=null!=NetworkSetting.ethernet?NetworkSetting.ethernet:{isDhcp:!1}},vm.saveWifiSettings=function(){resetNotifications(),networkConfigService.wifiNetworkSettings(vm.wifiSettingObject).then(function(success){vm.wifiSettingsSuccess="SUCCESS! WIFI settings updated"},function(error){vm.wifiSettingsError="ERROR: Failed to update Wi-Fi settings"})},vm.saveWifiApSettings=function(){resetNotifications(),networkConfigService.wifiApNetworkSettings(vm.wifiApSettingObject).then(function(success){vm.wifiApSettingsSuccess="SUCCESS! Wi-Fi network key updated.\nSettings will take effect after the next reboot"},function(error){vm.wifiApSettingsError="ERROR: Failed to update Wi-Fi AP settings"})},vm.updateEthernetSettings=function(){resetNotifications(),networkConfigService.ethernetSettings(vm.ethernetSettingObject).then(function(success){vm.ethernetSettingsSuccess="SUCCESS! Ethernet settings updated"},function(error){vm.ethernetSettingsError="ERROR: Failed to update Ethernet settings"})}}angular.module("app.networkconfig").controller("NetworkConfig",NetworkConfig),NetworkConfig.$inject=["$state","$scope","$rootScope","$modal","networkConfigService","NetworkSetting"]}();